<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Accueil - INTRAPCB LAB</title>
  <link rel="icon" href="logo.png" type="image/png">
  <meta name="description" content="Vente de services CNC pour tous vos projets" />
  <meta name="google-site-verification" content="MnF5zsBhm4-w-a1hs9MHAsHYTzRjtKC5YqYx93A11g4" />
  <!-- Lien vers votre CSS -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- Favicon si vous en avez -->
<div id="assistant-container">
  <img id="assistant" src="bot_cligne.png" alt="Assistant">
  <div id="speech-bubble"></div>
</div>





</head>
<body>
  <!-- En-t√™te avec navigation -->
  <header>
    <div class="logo-container">
      <img src="logo.png"  class="logo" />
    </div>
    <nav class="nav-menu">
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="catalog.html">Catalogue</a></li>
        <li><a href="contact.html">Contact</a></li>
        
        <li><a href="presentation.html" class="join-btn" target="_blank">
  ü§ù Notre communaut√©
</a></li>

      </ul>
    </nav>
    <!-- Menu burger pour mobile -->
    <div class="burger" id="burger">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </header>
  <div>.</div>
  <div>.</div>
  <!-- Section pr√©sentation -->
  <section class="hero">
    
    <h1>Bienvenue chez IntraPCB Lab</h1>
    
    
 
    <a href="catalog.html" class="btn" data-aos="fade-up">D√©couvrir nos services</a>
  </section>

  <!-- Services mis en avant -->
  <section class="features" data-aos="fade-up">
    <div class="feature">
      <h2>Pr√©cision</h2>
      <P>Chez <b>IntraPCB Lab</b>, chaque pi√®ce r√©alis√©e est le fruit d'un proc√©ssus de fabrication
      <br>rigoureux alliant technologie de pointe et savoir-faire.Gr√¢ce √† nos machines cnc<br>
      √† haute performance, nous garantissons des d√©coupes, usinages et gravures d'une pr√©cision <br>
      <b>exceptionnelle</b>, conformes aux tol√©rences les plus strictes.</P>
    </div>
    <div class="feature">
      <h2>Rapidit√©</h2>
      <p>Nous comprenons que vos d√©lais sont √©ssentiels. C'est pourquoi nous avons <b>optimis√©</b> chaque √©tape<br>
      de notre processus CNC pour garantir une <b>production rapide et efficace</b>, sans jamais sacrifier la pr√©cision <br>
      ou la qualit√© du resultat final</p>
    </div>
    <div class="feature">
      <h2>Qualit√©</h2>
      <p>La qualit√© est au coeur de notre engagement. Chaque projet que nous r√©alisons b√©n√©ficie d'un 
        <b>contr√¥le rigoureux</b>, depuis la pr√©paration des fichiers jusqu'√† la finition des pi√®ces. Nos √©quipements 
        CNC de derni√®re g√©n√©ration, associ√©s √† des mat√©riaux soignesement s√©lectionn√©s,
        nous permettent de garantir une <b>qualit√© constante</b>, r√©pondant aux normes les plus exigeantes.
      </p>
    </div>
  </section>

  <br>
<br>
  <section class="features" data-aos="fade-up">
     <div class="comment-section">
    <h2>N'hesitez pas √† nous laisser un commentaire &#128526;</h2>
    <br>
    <div id="comments-container"></div>
    <button id="openModal">Commenter</button>
  </div>

  <!-- Modal -->
  <div id="commentModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>Laisser un commentaire</h3>
      <form id="commentForm">
        <input type="text" id="pseudo" placeholder="Votre pseudo" required />
        <textarea id="message" placeholder="Votre message" required></textarea>
        <button type="submit">Envoyer</button>
      </form>
    </div>
  </div>
  <br>
  <br>

  </section>


  <!-- Pied de page -->
<!-- Footer styl√© noir avec liens et r√©seaux sociaux -->
<footer style="background-color:#000; padding:30px 20px; color:#fff; text-align:center;">
  <div style="max-width:1200px; margin:auto; display:flex; flex-wrap:wrap; justify-content:space-around; align-items:center;">
    <!-- Liens pages -->
    <div style="margin:10px;">
      <a href="contact.html" style="color:#fff; margin:0 15px; text-decoration:none; font-weight:bold;">Contact</a>
      <a href="index.html" style="color:#fff; margin:0 15px; text-decoration:none; font-weight:bold;">Accueil</a>
      <!-- Ajoutez d'autres liens si n√©cessaire -->
    </div>
    
    <!-- R√©seaux sociaux avec ic√¥nes Font Awesome -->
    <div style="margin:10px; display:flex; gap:15px; justify-content:center;">
      <a href="https://www.facebook.com/profile.php?id=61576195028773" target="_blank" rel="noopener noreferrer" style="color:#fff; font-size:20px;">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a href="https://wa.me/237682524296?text=Bonjour%20je%20viens%20du%20site%20web%20IntraPcbLab" target="_blank" rel="noopener noreferrer" style="color:#fff; font-size:20px;">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="contactiutdlapcb@gmail.com" target="_blank" rel="noopener noreferrer" style="color:#fff; font-size:20px;">
        <i class="fab fa-linkedin"></i>
      </a>
    </div>
  </div>
  <br>
  <div class="margin:10px;">
    <h3 class="text-2xl font-semibold mb-2">Nos coordonn√©es</h3>
    <p><strong>Email :</strong> contact@iutdlapcb.com</p>
    <p><strong>T√©l√©phone :</strong> +237 (657 920 400/698 856 751)</p>
    <p><strong>Adresse :</strong> IUT de Douala, Littoral, Cameroun</p>
  </div>
  <div style="margin-top:15px; font-size:14px;">&copy; 2025 Wr. Tous droits r√©serv√©s.</div>
</footer>

<!-- N'oubliez pas d'ajouter Font Awesome dans votre <head> si vous souhaitez utiliser les ic√¥nes -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> -->
  <!-- Scripts JS -->
  <script src="main.js" defer></script>

<script type="module">
  // Import des fonctions Firebase (API modulaire)
import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';
import { getFirestore, collection, addDoc, serverTimestamp, onSnapshot, query, orderBy } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js';

// Configuration Firebase (√† remplacer par tes cl√©s)
  const firebaseConfig = {
  apiKey: "AIzaSyBg5mXXkRDWqD9a3l8h1Y_CFNy31yCHQ-Y",
  authDomain: "cnc2-bca09.firebaseapp.com",
  projectId: "cnc2-bca09",
  storageBucket: "cnc2-bca09.firebasestorage.app",
  messagingSenderId: "680616207738",
  appId: "1:680616207738:web:12be3b4734cb72c162e2c3",
  measurementId: "G-RGD9YN5HNS"
};

// Initialisation Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// R√©cup√©ration des √©l√©ments du DOM
const commentsContainer = document.getElementById('comments-container');
const openModalBtn = document.getElementById('openModal');
const modal = document.getElementById('commentModal');
const closeModalBtn = modal.querySelector('.close');
const commentForm = document.getElementById('commentForm');
const pseudoInput = document.getElementById('pseudo');
const messageInput = document.getElementById('message');

// Fonction d‚Äô√©chappement HTML simple pour √©viter injection
function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

// Fonction pour afficher les commentaires depuis Firestore
function renderComments(snapshot) {
  commentsContainer.innerHTML = '';
  snapshot.forEach(doc => {
    const data = doc.data();
    const comment = document.createElement('div');
    comment.classList.add('comment');

    const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(data.pseudo)}&background=random&color=fff&rounded=true&size=40`;

    comment.innerHTML = `
      <img src="${avatarUrl}" alt="avatar" class="avatar" />
      <div class="comment-content">
        <div class="comment-header">${escapeHtml(data.pseudo)} - <small>${data.date ? new Date(data.date.seconds * 1000).toLocaleString() : '...'}</small></div>
        <div class="comment-text">${escapeHtml(data.message)}</div>
      </div>
    `;
    commentsContainer.appendChild(comment);
  });
}

// Ecoute en temps r√©el de la collection comments, tri√©e par date d√©croissante
const commentsQuery = query(collection(db, 'comments'), orderBy('date', 'desc'));
onSnapshot(commentsQuery, renderComments);

// Gestion ouverture et fermeture du modal
openModalBtn.addEventListener('click', () => {
  modal.style.display = 'block';
  pseudoInput.focus();
});
closeModalBtn.addEventListener('click', () => {
  modal.style.display = 'none';
});
window.addEventListener('click', e => {
  if (e.target === modal) {
    modal.style.display = 'none';
  }
});

// Soumission d‚Äôun nouveau commentaire
commentForm.addEventListener('submit', async e => {
  e.preventDefault();

  const pseudo = pseudoInput.value.trim();
  const message = messageInput.value.trim();

  if (!pseudo || !message) {
    alert('Veuillez remplir tous les champs');
    return;
  }

  try {
    await addDoc(collection(db, 'comments'), {
      pseudo,
      message,
      date: serverTimestamp()
    });
    commentForm.reset();
    modal.style.display = 'none';
  } catch (error) {
    alert('Erreur lors de l\'envoi du commentaire : ' + error.message);
  }
});



</script>
<script>

  const assistant    = document.getElementById("assistant");
const bubble       = document.getElementById("speech-bubble");
const container    = document.getElementById("assistant-container");

// Images du bot pour animation
const botImages = ["bot_charge.png", "bot_cligne.png", "bot_dort.png"];
let imgIndex = 0;

// Dialogues simples
const dialogues = [
  "Salut ! Je suis Mr IUT toujours disponible pour vous aidezüòä",
  "Vous √™tes √† l'acceuil, Vous avez entendu parler de IntraPCB Lab ?",
  "Nous faisons principalement dans la Gravure et la s√©rigrahie, n'h√©sitez pas √† nous contacter",
  "Tu veux passer une commande ? clique sur D√©couvrir au dessus"
];
let dlgIndex = 0;
let side = "left"; // "left" ou "right"

// Change l'image du bot toutes les 700 ms pour animer
function animateBot() {
  imgIndex = (imgIndex + 1) % botImages.length;
  assistant.src = botImages[imgIndex];
}
setInterval(animateBot, 8000);

// Affiche le prochain message
function showDialogue() {
  bubble.textContent = dialogues[dlgIndex];
  bubble.style.display = "block";
  dlgIndex = (dlgIndex + 1) % dialogues.length;
  positionBubble();
}

// Cache la bulle au clic dessus
bubble.addEventListener("click", () => {
  bubble.style.display = "none";
});

// Affiche bulle au clic sur le bot
assistant.addEventListener("click", showDialogue);

// Positionne la bulle selon le c√¥t√© et √©vite d√©bordements
function positionBubble() {
  const containerRect = container.getBoundingClientRect();
  const bubbleRect = bubble.getBoundingClientRect();
  const viewportWidth = window.innerWidth;
  const viewportHeight = window.innerHeight;

  if (side === "left") {
    bubble.style.left = assistant.offsetWidth + 10 + "px";
    bubble.style.right = "auto";

    // Assure que la bulle ne d√©borde pas √† droite
    if (containerRect.left + assistant.offsetWidth + 10 + bubbleRect.width > viewportWidth) {
      bubble.style.left = (viewportWidth - containerRect.left - bubbleRect.width - 10) + "px";
    }

    // Triangle √† gauche
    bubble.style.setProperty("--triangle-position", "left");
    bubble.style.setProperty("border-color", "rgba(255,255,255,0.8) transparent transparent transparent");
    bubble.style.setProperty("left", assistant.offsetWidth + 10 + "px");

    // Triangle styling via ::after
    bubble.style.removeProperty("right");
    bubble.style.removeProperty("border-color");
    // On peut injecter un style ou ajouter un classe plus simple (voir plus bas)
  } else {
    bubble.style.right = assistant.offsetWidth + 10 + "px";
    bubble.style.left = "auto";

    // Assure que la bulle ne d√©borde pas √† gauche
    if (containerRect.right - assistant.offsetWidth - 10 - bubbleRect.width < 0) {
      bubble.style.right = (viewportWidth - containerRect.right + assistant.offsetWidth + 10) + "px";
    }

    // Triangle √† droite
    bubble.style.setProperty("--triangle-position", "right");
    bubble.style.setProperty("border-color", "rgba(255,255,255,0.8) transparent transparent transparent");
  }
}

// D√©place le bot d'un bord √† l'autre
function moveBot() {
  if (side === "left") {
    container.style.left = "auto";
    container.style.right = "20px";
    side = "right";
  } else {
    container.style.right = "auto";
    container.style.left = "20px";
    side = "left";
  }
  
  positionBubble();
}

// Boucles
setInterval(moveBot, 20000);       // change de c√¥t√©
setInterval(showDialogue, 10000);   // nouveau message

function positionBubble() {
  if (side === "left") {
    bubble.classList.add("left");
    bubble.classList.remove("right");
    bubble.style.left = assistant.offsetWidth + 10 + "px";
    bubble.style.right = "auto";
  } else {
    bubble.classList.add("right");
    bubble.classList.remove("left");
    bubble.style.right = assistant.offsetWidth + 10 + "px";
    bubble.style.left = "auto";
  }
}

</script>


</body>
</html>
