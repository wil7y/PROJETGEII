<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Détails du service CNC</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
<h1>Détails du service CNC</h1>
<div class="logo-container">
  <img src="images/logo.jpg" alt="Logo Innov' CNC" class="logo" />
</div>
<div class="typewriter" data-text="Transformez vos idées :)"></div>
  <!-- Bouton burger -->
  <div class="burger-menu" id="burgerMenu">
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
  </div>
  <!-- Menu navigation -->
  <nav id="navLinks" class="nav-links">
    <a href="index.html">Accueil</a>
    <a href="boutique.html">Nos Services</a>
    <a href="contact.html">Contact</a>
    
  </nav>
<nav>
<a href="index.html">Accueil</a>
<a href="boutique.html">Catalogue</a>
<a href="contact.html">Contact</a>
</nav>
</header>
<section class="product-details">
<img src="" alt="Produit" id="productImage" class="product-image"/>
<h2 id="productTitle"></h2>
<p id="productDescription"></p>
<p><strong>Prix :</strong> <span id="productPrice"></span></p>
<a href="#devis" class="btn">Demander un devis</a>

<h3 id="devis">Formulaire de demande</h3>
<form id="devisForm">
<label for="name">Nom :</label><br><br>
<input type="text" id="name" required />
<label for="email">Email :</label><br><br>
<input type="email" id="email" required />
<label for="message">Votre message :</label><br><br>
<textarea id="message" rows="4" required></textarea>
<button type="submit">Envoyer</button>

</form>
</section>
<footer>&copy; 2024 Mon site CNC</footer>
<script src="script.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

<script>


  const firebaseConfig = {
    apiKey: "AIzaSyD32v3AgCCqiJd5sKIHQ3jxWl2ShZincYo",
    authDomain: "cncgeii.firebaseapp.com",
    projectId: "cncgeii",
    storageBucket: "cncgeii.firebasestorage.app",
    messagingSenderId: "607727685711",
    appId: "1:607727685711:web:e833379f71fc9433c61a3a",
    measurementId: "G-37ZX957ZYP"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const products = [
    { title: "Service de découpe CNC", description: "Description...", price: "150 €", image:"images/image1.jpg"},
    { title: "Fraisage CNC", description: "Description...", price: "200 €", image: "images/image2.jpg" },
    { title: "Gravure CNC", description: "Description...", price: "100 €", image: "images/image3.jpg" }
  ];

  function getQueryParam(param) {
    const params = new URLSearchParams(window.location.search);
    return params.get(param);
  }

  const index = getQueryParam('product');
  if (index !== null && products[index]) {
    const p = products[index];
    document.getElementById('productTitle').textContent = p.title;
    document.getElementById('productDescription').textContent = p.description;
    document.getElementById('productPrice').textContent = p.price;
    document.getElementById('productImage').src = p.image;
  }

  document.getElementById('devisForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    await firebase.firestore().collection('devis_requests').add({
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      message: document.getElementById('message').value,
      product: document.getElementById('productTitle').textContent,
      date: new Date()
    });
    alert('Demande envoyée');
    this.reset();
  });
</script>
</body>
</html>